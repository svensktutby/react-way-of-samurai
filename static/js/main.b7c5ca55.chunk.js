(this["webpackJsonpreact-way-of-samurai"]=this["webpackJsonpreact-way-of-samurai"]||[]).push([[0],{103:function(e,t,n){e.exports={usersBlock:"Users_usersBlock__2PNX-",list:"Users_list__bCqoi"}},108:function(e,t,n){"use strict";t.a=n.p+"static/media/userAvatar.3b076f75.svg"},112:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return x})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return E}));var r,a=n(7),c=n.n(a),o=n(14),s=n(35),i=n(3),u=n(42),l=n(16),d=n(9),p=function(e){return d.a.get("profile/".concat(e)).then((function(e){return e.data}))},f=function(e){return d.a.get("profile/status/".concat(e)).then((function(e){return e.data}))},b=function(e){return d.a.put("profile/status/",{status:e}).then((function(e){return e.data}))},j=function(e){var t=new FormData;return t.append("image",e),d.a.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},O=function(e){return d.a.put("profile/",e).then((function(e){return e.data}))};!function(e){e.ADD_POST="SN/PROFILE/ADD_POST",e.DELETE_POST="SN/PROFILE/DELETE_POST",e.SET_USER_PROFILE="SN/PROFILE/SET_USER_PROFILE",e.SET_STATUS="SN/PROFILE/SET_STATUS",e.SET_USER_PHOTO="SN/PROFILE/SET_USER_PHOTO"}(r||(r={}));var _={posts:[{id:Object(l.a)(),message:"Hi, dude!",likesCount:12},{id:Object(l.a)(),message:"yo bro",likesCount:8},{id:Object(l.a)(),message:"wazzup",likesCount:111}],profile:null,status:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.ADD_POST:var n={id:Object(l.a)(),message:t.payload,likesCount:0};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n])});case r.DELETE_POST:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload}))});case r.SET_USER_PROFILE:return Object(i.a)(Object(i.a)({},e),{},{profile:t.payload});case r.SET_STATUS:return Object(i.a)(Object(i.a)({},e),{},{status:t.payload});case r.SET_USER_PHOTO:return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.payload})});default:return e}},m={addPost:function(e){return{type:r.ADD_POST,payload:e}},deletePost:function(e){return{type:r.DELETE_POST,payload:e}},setUserProfile:function(e){return{type:r.SET_USER_PROFILE,payload:e}},setStatus:function(e){return{type:r.SET_STATUS,payload:e}},setUserPhoto:function(e){return{type:r.SET_USER_PHOTO,payload:e}}},S=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:r=t.sent,n(m.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:r=t.sent,n(m.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b(e);case 3:t.sent.resultCode===d.b.Success&&n(m.setStatus(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error: ",Object(i.a)({},t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:(r=t.sent).resultCode===d.b.Success&&n(m.setUserPhoto(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n,r){var a,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r(),o=a.auth.id,t.next=3,O(e);case 3:if((s=t.sent).resultCode!==d.b.Success){t.next=13;break}if(null===o){t.next=10;break}return t.next=8,n(S(o));case 8:t.next=11;break;case 10:throw new Error("userId can't be null");case 11:t.next=16;break;case 13:return n(Object(u.a)("edit-profile",{_error:s.messages[0]})),t.next=16,Promise.reject(s.messages[0]);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},113:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r,a=n(35),c=n(3),o=n(16);!function(e){e.SEND_MESSAGE="SN/DIALOGS/SEND_MESSAGE"}(r||(r={}));var s={dialogs:[{id:Object(o.a)(),name:"Andrei"},{id:Object(o.a)(),name:"John Doe"},{id:Object(o.a)(),name:"Patrick"},{id:Object(o.a)(),name:"Someone"}],messages:[{id:Object(o.a)(),message:"Hi"},{id:Object(o.a)(),message:"Hi, dude!"},{id:Object(o.a)(),message:"Yo"}]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SEND_MESSAGE:var n={id:Object(o.a)(),message:t.payload};return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[n])});default:return e}},u={sendMessage:function(e){return{type:r.SEND_MESSAGE,payload:e}}}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Math.floor(1e9*Math.random()).toString(16)}},182:function(e,t,n){},26:function(e,t,n){e.exports={form:"Login_form__2mvFD",title:"Login_title__bh47u",checkboxWrapper:"Login_checkboxWrapper__7_o-w",btnWrapper:"Login_btnWrapper__2bwwv",checkbox:"Login_checkbox__3UFrU",hint:"Login_hint__3ofnl",captchaWrapper:"Login_captchaWrapper__3iuBm",errorWrapper:"Login_errorWrapper__3WLZ5 errorMessageForm_errorWrapper__LmXZN",error:"Login_error__17Wu6 errorMessageForm_error__1dDl6"}},30:function(e,t,n){e.exports={btn:"button_btn__3GHkQ","back-pulse":"button_back-pulse__1zdKZ"}},305:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(75),c=n.n(a),o=(n(182),n(106)),s=n(107),i=n(111),u=n(109),l=n(12),d=n(29),p=n(11),f=n(17),b=n(48),j=n.n(b),O=n(144),_=n(146),h=n(147),m=(Object(h.createLogger)({duration:!0,collapsed:!0,colors:{title:function(){return"#139BFE"},prevState:function(){return"#1C5FAF"},action:function(){return"#149945"},nextState:function(){return"#A47104"},error:function(){return"#FF0005"}}}),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,p.d),S=[_.a];var x,v=m(p.a.apply(void 0,S)),g=n(113),E=n(112),T=n(7),N=n.n(T),y=n(14),L=n(35),C=n(3),U=n(9),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{term:"",friend:null},r=null===n.friend?"":n.friend;return U.a.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n.term,"&friend=").concat(r)).then((function(e){return e.data}))},w=function(e){return U.a.post("follow/".concat(e)).then((function(e){return e.data}))},A=function(e){return U.a.delete("follow/".concat(e)).then((function(e){return e.data}))};!function(e){e.FOLLOW="SN/USERS/FOLLOW",e.UNFOLLOW="SN/USERS/UNFOLLOW",e.SET_USERS="SN/USERS/SET_USERS",e.SET_CURRENT_PAGE="SN/USERS/SET_CURRENT_PAGE",e.SET_FILTER="SN/USERS/SET_FILTER",e.SET_USERS_TOTAL_COUNT="SN/USERS/SET_USERS_TOTAL_COUNT",e.TOGGLE_IS_FETCHING="SN/USERS/TOGGLE_IS_FETCHING",e.TOGGLE_IS_FOLLOWING_PROGRESS="SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS"}(x||(x={}));var R,I={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},k=function(e){return{type:x.FOLLOW,payload:e}},F=function(e){return{type:x.UNFOLLOW,payload:e}},G=function(e){return{type:x.SET_USERS,payload:e}},W=function(e){return{type:x.SET_CURRENT_PAGE,payload:e}},D=function(e){return{type:x.SET_FILTER,payload:e}},H=function(e){return{type:x.SET_USERS_TOTAL_COUNT,payload:e}},M=function(e){return{type:x.TOGGLE_IS_FETCHING,payload:e}},z=function(e,t){return{type:x.TOGGLE_IS_FOLLOWING_PROGRESS,payload:{isFetching:e,userId:t}}},B=function(e,t,n){return function(){var r=Object(y.a)(N.a.mark((function r(a){var c;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(M(!0)),a(W(e)),a(D(n)),r.next=5,P(e,t,n);case 5:c=r.sent,a(M(!1)),a(G(c.items)),a(H(c.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Z=n(42),J=function(){return U.a.get("auth/me").then((function(e){return e.data}))},V=function(e){var t=e.email,n=e.password,r=e.rememberMe,a=void 0!==r&&r,c=e.captcha,o=void 0===c?null:c;return U.a.post("auth/login",{email:t,password:n,rememberMe:a,captcha:o}).then((function(e){return e.data}))},X=function(){return U.a.delete("auth/login").then((function(e){return e.data}))},q=function(){return U.a.get("security/get-captcha-url").then((function(e){return e.data}))};!function(e){e.SET_AUTH_USER_DATA="SN/AUTH/SET_AUTH_USER_DATA",e.SET_CAPTCHA_URL="SN/AUTH/SET_CAPTCHA_URL"}(R||(R={}));var K,Y={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},Q=function(e,t,n,r){return{type:R.SET_AUTH_USER_DATA,payload:{id:e,email:t,login:n,isAuth:r}}},$=function(e){return{type:R.SET_CAPTCHA_URL,payload:{captchaUrl:e}}},ee=function(){return function(){var e=Object(y.a)(N.a.mark((function e(t){var n,r,a,c,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:(n=e.sent).resultCode===U.b.Success&&(r=n.data,a=r.id,c=r.email,o=r.login,t(Q(a,c,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};!function(e){e.INITIALIZED_SUCCESS="SN/APP/INITIALIZED_SUCCESS"}(K||(K={}));var te={initialized:!1},ne=function(){return{type:K.INITIALIZED_SUCCESS}},re={},ae=Object(p.c)({profilePage:E.d,dialogsPage:g.b,sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;return t.type,e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.FOLLOW:return Object(C.a)(Object(C.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload?Object(C.a)(Object(C.a)({},e),{},{followed:!0}):e}))});case x.UNFOLLOW:return Object(C.a)(Object(C.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload?Object(C.a)(Object(C.a)({},e),{},{followed:!1}):e}))});case x.SET_USERS:return Object(C.a)(Object(C.a)({},e),{},{users:t.payload});case x.SET_CURRENT_PAGE:return Object(C.a)(Object(C.a)({},e),{},{currentPage:t.payload});case x.SET_FILTER:return Object(C.a)(Object(C.a)({},e),{},{filter:t.payload});case x.SET_USERS_TOTAL_COUNT:return Object(C.a)(Object(C.a)({},e),{},{totalUsersCount:t.payload});case x.TOGGLE_IS_FETCHING:return Object(C.a)(Object(C.a)({},e),{},{isFetching:t.payload});case x.TOGGLE_IS_FOLLOWING_PROGRESS:return Object(C.a)(Object(C.a)({},e),{},{followingInProgress:t.payload.isFetching?[].concat(Object(L.a)(e.followingInProgress),[t.payload.userId]):e.followingInProgress.filter((function(e){return e!==t.payload.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.SET_AUTH_USER_DATA:case R.SET_CAPTCHA_URL:return Object(C.a)(Object(C.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.INITIALIZED_SUCCESS:return Object(C.a)(Object(C.a)({},e),{},{initialized:!0});default:return e}},form:O.a}),ce=Object(p.e)(ae,v);window.store=ce;var oe=n(49),se=n.n(oe),ie=n(30),ue=n.n(ie),le=n.p+"static/media/logo.d6c257c2.svg",de=n(1),pe=function(e){var t=e.login,n=e.logout,r=e.isAuth;return Object(de.jsx)("header",{className:se.a.header,children:Object(de.jsxs)("div",{className:se.a.container,children:[Object(de.jsx)("img",{className:se.a.logo,src:le,width:"40",height:"40",alt:"Logo"}),Object(de.jsx)("div",{className:se.a.loginBlock,children:r?Object(de.jsxs)("div",{children:[Object(de.jsx)("span",{className:se.a.login,children:t}),Object(de.jsx)("button",{type:"button",className:ue.a.btn,onClick:n,children:"Log out"})]}):Object(de.jsx)(d.b,{className:ue.a.btn,to:"/login",children:"Log in"})})]})})},fe=Object(f.b)((function(e){var t=e.auth;return{login:t.login,isAuth:t.isAuth}}),{logout:function(){return function(){var e=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:e.sent.resultCode===U.b.Success&&t(Q(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.logout,r=e.isAuth;return Object(de.jsx)(pe,{login:t,logout:n,isAuth:r})})),be=n(110),je=n(50),Oe=n.n(je),_e=n(16),he=f.d,me=n(150),Se=Object(me.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!!e}))})),xe=function(e){return e.usersPage.pageSize},ve=function(e){return e.usersPage.totalUsersCount},ge=function(e){return e.usersPage.currentPage},Ee=function(e){return e.usersPage.isFetching},Te=function(e){return e.usersPage.followingInProgress},Ne=function(e){return e.usersPage.filter},ye=n(103),Le=n.n(ye),Ce=n(37),Ue=n.n(Ce),Pe=function(e){var t=e.pageSize,n=e.totalItemsCount,r=e.currentPage,a=void 0===r?1:r,c=e.changePageHandler,o=e.portionSize,s=void 0===o?10:o,i=Math.ceil(n/t),u=Math.floor((a-1)/s)*s,l=Array(s).fill(null).reduce((function(e,t,n){var r=n+1+u;return r<=i?[].concat(Object(L.a)(e),[r]):e}),[]);return Object(de.jsxs)("div",{className:Ue.a.paginator,children:[Object(de.jsx)("button",{type:"button",className:"".concat(Ue.a.btn),disabled:1===a,onClick:function(){return c(1)},children:"First"}),Object(de.jsx)("button",{type:"button",className:"".concat(Ue.a.btn),disabled:1===a,onClick:function(){return c(a-1)},children:"Previous"}),l.map((function(e){var t=e===a;return Object(de.jsx)("button",{type:"button",className:"".concat(Ue.a.btn," ").concat(t&&Ue.a.selected),disabled:t,onClick:function(){return c(e)},children:e},e)})),Object(de.jsx)("button",{type:"button",className:"".concat(Ue.a.btn),disabled:a===i,onClick:function(){return c(a+1)},children:"Next"}),Object(de.jsx)("button",{type:"button",className:"".concat(Ue.a.btn),disabled:a===i,onClick:function(){return c(i)},children:"Last"})]})},we=n(38),Ae=n.n(we),Re=n(108),Ie=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unfollow;return Object(de.jsxs)("li",{className:Ae.a.item,children:[Object(de.jsxs)("div",{children:[Object(de.jsx)("div",{className:Ae.a.avatarWrapper,children:Object(de.jsx)(d.b,{to:"/profile/".concat(t.id),children:Object(de.jsx)("img",{className:Ae.a.avatar,src:t.photos.small||Re.a,width:"50",height:"50",alt:"User avatar"})})}),Object(de.jsx)("div",{children:t.followed?Object(de.jsx)("button",{className:ue.a.btn,type:"button",disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(de.jsx)("button",{className:ue.a.btn,type:"button",disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(de.jsxs)("div",{className:Ae.a.info,children:[Object(de.jsxs)("div",{children:[Object(de.jsx)("div",{className:Ae.a.name,children:t.name}),Object(de.jsx)("div",{className:Ae.a.status,children:t.status||"Status is empty"})]}),Object(de.jsxs)("div",{className:Ae.a.location,children:[Object(de.jsx)("div",{children:"user.location.country"}),Object(de.jsx)("div",{children:"user.location.city"})]})]})]})},ke=n(65),Fe=function(e){switch(e){case"true":return!0;case"false":return!1;default:return null}},Ge=Object(r.memo)((function(e){var t=e.changeFilterHandler;return Object(de.jsx)(ke.c,{initialValues:{term:"",friend:"null"},onSubmit:function(e,n){var r=e.term,a=e.friend,c=n.setSubmitting,o={term:r,friend:Fe(a)};t(o),c(!1)},children:function(e){var t=e.isSubmitting;return Object(de.jsxs)(ke.b,{children:[Object(de.jsx)(ke.a,{type:"text",name:"term"}),Object(de.jsxs)(ke.a,{name:"friend",as:"select",children:[Object(de.jsx)("option",{value:"null",children:"All"}),Object(de.jsx)("option",{value:"true",children:"Only followed"}),Object(de.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(de.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})}));Ge.displayName="UsersSearchForm";var We,De=function(){var e=Object(f.c)(),t=he(Se),n=he(ve),a=he(ge),c=he(xe),o=he(Ne),s=he(Te);Object(r.useEffect)((function(){e(B(a,c,o))}),[e,a,c,o]);var i=function(t){e(function(e){return function(){var t=Object(y.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(z(!0,e)),t.next=3,w(e);case 3:t.sent.resultCode===U.b.Success&&n(k(e)),n(z(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},u=function(t){e(function(e){return function(){var t=Object(y.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(z(!0,e)),t.next=3,A(e);case 3:t.sent.resultCode===U.b.Success&&n(F(e)),n(z(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},l=t.map((function(e){return Object(de.jsx)(Ie,{user:e,followingInProgress:s,follow:i,unfollow:u},e.id)}));return Object(de.jsxs)("div",{className:Le.a.usersBlock,children:[Object(de.jsx)(Ge,{changeFilterHandler:function(t){e(B(1,c,t))}}),Object(de.jsx)("ul",{className:Le.a.list,children:l}),Object(de.jsx)("button",{className:ue.a.btn,type:"button",onClick:function(){},children:"Show more"}),Object(de.jsx)(Pe,{pageSize:c,totalItemsCount:n,currentPage:a,changePageHandler:function(t){e(B(t,c,o))}})]})},He=n(56),Me=function(){var e=he(Ee);return Object(de.jsxs)(de.Fragment,{children:[e&&Object(de.jsx)(He.a,{text:"Loading..."}),Object(de.jsx)(De,{})]})},ze=n(142),Be=n(143),Ze=n(26),Je=n.n(Ze),Ve=n(66),Xe=n(57),qe=Object(Xe.a)(30),Ke=Object(Be.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return Object(de.jsxs)("form",{className:Je.a.form,onSubmit:t,children:[Object(de.jsx)(ze.a,{component:Ve.a,name:"email",placeholder:"Email",validate:[Xe.b,qe]}),Object(de.jsx)(ze.a,{component:Ve.a,type:"password",name:"password",placeholder:"Password",validate:[Xe.b,qe]}),Object(de.jsxs)("label",{className:"".concat(Je.a.checkboxWrapper),children:[Object(de.jsx)(ze.a,{className:Je.a.checkbox,component:"input",type:"checkbox",name:"rememberMe"}),Object(de.jsx)("span",{className:Je.a.hint,children:"remember me"})]}),r&&Object(de.jsxs)("div",{className:"".concat(Je.a.captchaWrapper),children:[Object(de.jsx)("img",{src:r,alt:"Captcha"}),Object(de.jsx)(ze.a,{component:Ve.a,name:"captcha",placeholder:"Symbols from image",validate:[Xe.b]})]}),Object(de.jsx)("div",{className:"".concat(Je.a.errorWrapper),children:n&&Object(de.jsx)("span",{className:"".concat(Je.a.error),children:n})}),Object(de.jsx)("div",{className:"".concat(Je.a.btnWrapper),children:Object(de.jsx)("button",{type:"submit",className:ue.a.btn,children:"Log in"})})]})})),Ye=function(){var e=Object(f.c)(),t=he((function(e){return e.auth.isAuth})),n=he((function(e){return e.auth.captchaUrl}));return t?Object(de.jsx)(l.a,{to:"/profile"}):Object(de.jsxs)("div",{children:[Object(de.jsx)("h1",{className:Je.a.title,children:"Login"}),Object(de.jsx)("div",{className:Je.a.loginFormWrapper,children:Object(de.jsx)(Ke,{onSubmit:function(t){var n;e((n=Object(C.a)({},t),function(){var e=Object(y.a)(N.a.mark((function e(t){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(n);case 2:if((r=e.sent).resultCode!==U.b.Success){e.next=8;break}return e.next=6,t(ee());case 6:e.next=13;break;case 8:if(r.resultCode!==U.c.Required){e.next=11;break}return e.next=11,t(function(){var e=Object(y.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:if(!(n=e.sent).url){e.next=6;break}return e.next=6,t($(n.url));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:a=r.messages.length?r.messages[0]:"Some error",t(Object(Z.a)("login",{_error:a}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:n})})]})},Qe=n(64),$e=n.n(Qe),et=function(){return Object(de.jsx)("div",{className:$e.a.page,children:Object(de.jsxs)("div",{className:$e.a.main,children:[Object(de.jsx)("h1",{className:$e.a.title,children:"404 - Not\xa0found"}),Object(de.jsxs)("p",{className:$e.a.text,children:["\u2014",Object(de.jsx)("span",{children:"Uh oh."})," ",Object(de.jsx)("span",{children:"\xaf\\_(\u30c4)_/\xaf"}),"\u2014"]})]})})},tt={PROFILE:"/profile",DIALOGS:"/dialogs",USERS:"/users",LOGIN:"/login",ERROR_404:"/404"},nt=Object(r.lazy)(Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4).then(n.bind(null,320));case 2:return t=e.sent,e.abrupt("return",{default:t.DialogsContainer});case 4:case"end":return e.stop()}}),e)})))),rt=Object(r.lazy)(Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(3).then(n.bind(null,319));case 2:return t=e.sent,e.abrupt("return",{default:t.ProfileContainer});case 4:case"end":return e.stop()}}),e)})))),at=function(){return Object(de.jsx)(de.Fragment,{children:Object(de.jsxs)(l.d,{children:[Object(de.jsx)(l.b,{path:"/",exact:!0,render:function(){return Object(de.jsx)(l.a,{to:tt.PROFILE})}}),Object(de.jsx)(l.b,{path:"".concat(tt.PROFILE,"/:userId?"),render:function(){return Object(de.jsx)(rt,{})}}),Object(de.jsx)(l.b,{path:tt.DIALOGS,render:function(){return Object(de.jsx)(nt,{})}}),Object(de.jsx)(l.b,{path:tt.USERS,render:function(){return Object(de.jsx)(Me,{})}}),Object(de.jsx)(l.b,{path:tt.LOGIN,render:function(){return Object(de.jsx)(Ye,{})}}),Object(de.jsx)(l.b,{path:tt.ERROR_404,render:function(){return Object(de.jsx)(et,{})}}),Object(de.jsx)(l.a,{from:"*",to:tt.ERROR_404})]})})},ct=function(){return Object(de.jsx)("nav",{className:Oe.a.nav,children:Object(de.jsx)("ul",{className:Oe.a.list,children:Object.entries(tt).slice(0,3).map((function(e){var t=Object(be.a)(e,2),n=t[0],r=t[1];return Object(de.jsx)("li",{className:Oe.a.item,children:Object(de.jsx)(d.c,{className:Oe.a.link,to:r,activeClassName:Oe.a.active,replace:!0,children:n.toLowerCase()})},Object(_e.a)())}))})})},ot=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(e){alert("Some error occurred")},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(de.jsxs)("div",{className:j.a.appWrapper,children:[Object(de.jsx)(fe,{}),Object(de.jsxs)("div",{className:j.a.container,children:[Object(de.jsx)(ct,{}),Object(de.jsx)("main",{className:j.a.appContent,children:Object(de.jsx)(r.Suspense,{fallback:Object(de.jsx)("div",{className:j.a.preloaderPageWrapper,children:Object(de.jsx)(He.a,{text:"Loading..."})}),children:Object(de.jsx)(at,{})})})]})]}):Object(de.jsx)("div",{className:j.a.preloaderAppWrapper,children:Object(de.jsx)(He.a,{text:"Loading SamuraiJSApp"})})}}]),n}(r.Component),st=Object(p.d)(Object(f.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(y.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ee());case 2:n=e.sent,Promise.all([n]).then((function(){t(ne())}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),l.g)(ot),it=function(){return Object(de.jsx)(f.a,{store:ce,children:Object(de.jsx)(d.a,{children:Object(de.jsx)(st,{})})})};c.a.render(Object(de.jsx)(it,{}),document.getElementById("root")),We&&We instanceof Function&&n.e(5).then(n.bind(null,318)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,a=e.getLCP,c=e.getTTFB;t(We),n(We),r(We),a(We),c(We)}))},37:function(e,t,n){e.exports={btn:"Paginator_btn__C1fmc",selected:"Paginator_selected__2cTTO"}},38:function(e,t,n){e.exports={item:"User_item__2PdYA",avatarWrapper:"User_avatarWrapper__abUew",avatar:"User_avatar__27DBJ",info:"User_info__2Xv8f",location:"User_location__2fcbB"}},48:function(e,t,n){e.exports={appWrapper:"App_appWrapper__ZMEuH",container:"App_container__7_OSo container_container__1yKAy",appContent:"App_appContent__3kXFC",preloaderAppWrapper:"App_preloaderAppWrapper__37ovM",preloaderPageWrapper:"App_preloaderPageWrapper__3acpy"}},49:function(e,t,n){e.exports={header:"Header_header__1VCKf",container:"Header_container__1VC87 container_container__1yKAy",logo:"Header_logo__3_SJs",login:"Header_login__3V3Qa"}},50:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",list:"Navbar_list__2GzPV",link:"Navbar_link__TNvz9",active:"Navbar_active__3mbhk"}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(0);var r=n(81),a=n.n(r),c=n(1),o=function(e){var t=e.text;return Object(c.jsxs)("div",{className:a.a.preloader,children:[Object(c.jsx)("div",{className:a.a.loaderCircle}),Object(c.jsx)("div",{className:a.a.loaderBottom,children:t})]})}},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e?void 0:"Field is required"},a=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}},64:function(e,t,n){e.exports={page:"Error404_page__OgCEo",title:"Error404_title__AzCYh",text:"Error404_text__2CMhG"}},66:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(3),a=n(99),c=(n(0),n(82)),o=n.n(c),s=n(1),i=function(e){var t=e.meta,n=t.touched,r=t.error,a=e.children,c=e.className,i=void 0===c?"":c,u=n&&r,l="".concat(o.a.formControl," ").concat(i," ").concat(u&&o.a.formControlError);return Object(s.jsxs)("div",{className:l,children:[u&&Object(s.jsx)("span",{className:"".concat(o.a.error),children:r}),a]})},u=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return Object(s.jsx)(i,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},l=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return Object(s.jsx)(i,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},t),n))}))}},81:function(e,t,n){e.exports={preloader:"Preloader_preloader__2dvkO",loaderCircle:"Preloader_loaderCircle__2WGY1",load:"Preloader_load__3tO9j",loaderBottom:"Preloader_loaderBottom__3u2bT",pulse:"Preloader_pulse__2uAlH"}},82:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue",formControlError:"FormsControls_formControlError__MEb4f"}},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));var r,a,c=n(148),o=n.n(c).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"f0c49284-b587-4373-8b56-ded694176fd7"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.Required=10]="Required"}(a||(a={}))}},[[305,1,2]]]);
//# sourceMappingURL=main.b7c5ca55.chunk.js.map