{"version":3,"sources":["components/Users/Users.module.css","assets/images/userAvatar.svg","redux/profileReducer.ts","api/profileApi.ts","redux/dialogsReducer.ts","utils/randomId.ts","components/Login/Login.module.css","components/common/styles/button.module.css","redux/middleware.ts","redux/usersReducer.ts","api/usersApi.ts","redux/authReducer.ts","api/authApi.ts","api/securityApi.ts","redux/appReducer.ts","redux/sidebarReducer.ts","redux/reduxStore.ts","reportWebVitals.ts","assets/images/logo.svg","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/common/Paginator/Paginator.tsx","components/Users/User/User.tsx","components/Users/Users.tsx","redux/usersSelectors.ts","components/Users/UsersContainer.tsx","components/Login/Login.tsx","components/common/Error404/Error404.tsx","app/Routes.tsx","components/Navbar/Navbar.tsx","app/App.tsx","index.tsx","components/common/Paginator/Paginator.module.css","components/Users/User/User.module.css","app/App.module.css","components/Header/Header.module.css","components/Navbar/Navbar.module.css","components/common/Preloader/Preloader.tsx","utils/validators.ts","components/common/Error404/Error404.module.css","components/common/FormsControls/FormsControls.tsx","components/common/Preloader/Preloader.module.css","components/common/FormsControls/FormsControls.module.css","api/api.ts"],"names":["module","exports","ActionType","profileApi","userId","API","get","then","res","data","status","put","photo","formData","FormData","append","headers","profile","initialState","posts","id","randomId","message","likesCount","profileReducer","state","action","type","ADD_POST","post","payload","DELETE_POST","filter","p","SET_USER_PROFILE","SET_STATUS","SET_USER_PHOTO","photos","actions","addPost","text","deletePost","setUserProfile","setStatus","setUserPhoto","getProfile","dispatch","a","getStatus","updateStatus","resultCode","ResultCode","Success","console","error","savePhoto","saveProfile","getState","auth","Error","stopSubmit","_error","messages","Promise","reject","dialogs","name","dialogsReducer","SEND_MESSAGE","sendMessage","Math","floor","random","toString","composeEnhancers","createLogger","duration","collapsed","colors","title","prevState","nextState","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","enhancedStore","applyMiddleware","usersApi","page","pageSize","delete","users","totalUsersCount","currentPage","isFetching","followingInProgress","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","totalCount","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","authApi","email","password","rememberMe","captcha","securityApi","login","isAuth","captchaUrl","SET_AUTH_USER_DATA","SET_CAPTCHA_URL","getAuthUserData","initialized","INITIALIZED_SUCCESS","rootReducer","combineReducers","profilePage","dialogsPage","sidebar","usersPage","map","u","followed","app","form","store","createStore","onPerfEntry","Header","logout","className","s","header","container","logo","src","width","height","alt","loginBlock","styleBtn","btn","onClick","to","HeaderContainer","connect","props","logoutCallback","Paginator","totalItemsCount","changePageHandler","portionSize","portionCount","ceil","startIndex","pages","Array","fill","reduce","acc","item","idx","current","paginator","disabled","isCurrent","selected","User","user","follow","unfollow","avatarWrapper","avatar","small","userAvatar","some","info","location","Users","userElements","usersBlock","list","getUsers","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","setCurrentPage","usersActions","UsersAPIContainer","requestUsers","this","followUser","unfollowUser","Preloader","Component","UsersContainer","usersSelectors","items","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","handleSubmit","onSubmit","Field","component","Input","placeholder","validate","required","checkboxWrapper","checkbox","hint","captchaWrapper","errorWrapper","btnWrapper","LoginPage","loginData","ResultCodeCaptcha","Required","url","length","loginCallback","loginFormWrapper","Error404","main","PATH","PROFILE","DIALOGS","USERS","LOGIN","ERROR_404","DialogsContainer","lazy","default","ProfileContainer","Routes","path","exact","render","from","Navbar","nav","Object","entries","slice","link","activeClassName","active","replace","toLowerCase","App","catchAllUnhandledErrors","e","alert","initializeApp","addEventListener","removeEventListener","appWrapper","appContent","fallback","preloaderPageWrapper","preloaderAppWrapper","AppContainer","AuthUserDataPromise","all","withRouter","SamuraiJSApp","ReactDOM","document","getElementById","Function","getCLS","getFID","getFCP","getLCP","getTTFB","preloader","loaderCircle","loaderBottom","value","undefined","maxLength","FormControl","meta","touched","children","hasError","formControlClassName","formControl","formControlError","Textarea","input","restProps","axios","create","baseURL","withCredentials","process"],"mappings":"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","file":"static/js/main.b1c91fee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersBlock\":\"Users_usersBlock__2PNX-\",\"list\":\"Users_list__bCqoi\"};","export default __webpack_public_path__ + \"static/media/userAvatar.3b076f75.svg\";","import { Action } from 'redux';\nimport { ThunkAction } from 'redux-thunk';\nimport { FormAction, stopSubmit } from 'redux-form';\n\nimport { randomId } from '../utils/randomId';\nimport { profileApi } from '../api/profileApi';\nimport {\n  InferActionsType,\n  PhotosType,\n  PostType,\n  ProfileType,\n} from '../types/types';\nimport { ResultCode } from '../api/api';\nimport { AuthStateType } from './authReducer';\n\nexport enum ActionType {\n  ADD_POST = 'SN/PROFILE/ADD_POST',\n  DELETE_POST = 'SN/PROFILE/DELETE_POST',\n  SET_USER_PROFILE = 'SN/PROFILE/SET_USER_PROFILE',\n  SET_STATUS = 'SN/PROFILE/SET_STATUS',\n  SET_USER_PHOTO = 'SN/PROFILE/SET_USER_PHOTO',\n}\n\nconst initialState = {\n  posts: [\n    {\n      id: randomId(),\n      message: 'Hi, dude!',\n      likesCount: 12,\n    },\n    {\n      id: randomId(),\n      message: 'yo bro',\n      likesCount: 8,\n    },\n    {\n      id: randomId(),\n      message: 'wazzup',\n      likesCount: 111,\n    },\n  ] as Array<PostType>,\n  profile: null as ProfileType | null,\n  status: '',\n};\n\nexport const profileReducer = (\n  state = initialState,\n  action: ProfilePageActionsType,\n): ProfilePageStateType => {\n  switch (action.type) {\n    case ActionType.ADD_POST: {\n      const post: PostType = {\n        id: randomId(),\n        message: action.payload,\n        likesCount: 0,\n      };\n\n      return { ...state, posts: [...state.posts, post] };\n    }\n\n    case ActionType.DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter((p) => p.id !== action.payload),\n      };\n\n    case ActionType.SET_USER_PROFILE:\n      return { ...state, profile: action.payload };\n\n    case ActionType.SET_STATUS:\n      return { ...state, status: action.payload };\n\n    case ActionType.SET_USER_PHOTO:\n      return {\n        ...state,\n        profile: {\n          ...state.profile,\n          photos: action.payload,\n        } as ProfileType,\n      };\n\n    default:\n      return state;\n  }\n};\n\n/** Actions */\nexport const actions = {\n  addPost: (text: string) =>\n    ({ type: ActionType.ADD_POST, payload: text } as const),\n\n  deletePost: (id: string) =>\n    ({ type: ActionType.DELETE_POST, payload: id } as const),\n\n  setUserProfile: (profile: ProfileType) =>\n    ({ type: ActionType.SET_USER_PROFILE, payload: profile } as const),\n\n  setStatus: (status: string) =>\n    ({ type: ActionType.SET_STATUS, payload: status } as const),\n\n  setUserPhoto: (photos: PhotosType) =>\n    ({ type: ActionType.SET_USER_PHOTO, payload: photos } as const),\n};\n\n/** Thunks */\nexport const getProfile = (userId: number): ThunkType => async (dispatch) => {\n  const data = await profileApi.getProfile(userId);\n\n  dispatch(actions.setUserProfile(data));\n};\n\nexport const getStatus = (userId: number): ThunkType => async (dispatch) => {\n  const data = await profileApi.getStatus(userId);\n\n  dispatch(actions.setStatus(data));\n};\n\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\n  try {\n    const data = await profileApi.updateStatus(status);\n\n    if (data.resultCode === ResultCode.Success) {\n      dispatch(actions.setStatus(status));\n    }\n  } catch (error) {\n    // TODO dispatch error message instead of console\n    // eslint-disable-next-line no-console\n    console.error('Error', { ...error });\n  }\n};\n\nexport const savePhoto = (photo: File): ThunkType => async (dispatch) => {\n  const data = await profileApi.savePhoto(photo);\n\n  if (data.resultCode === ResultCode.Success) {\n    dispatch(actions.setUserPhoto(data.data));\n  }\n};\n\nexport const saveProfile = (profile: ProfileType): ThunkType => async (\n  dispatch,\n  getState,\n) => {\n  const {\n    auth: { id: userId },\n  } = getState();\n\n  const data = await profileApi.saveProfile(profile);\n\n  if (data.resultCode === ResultCode.Success) {\n    if (userId) {\n      await dispatch(getProfile(userId));\n    } else {\n      throw new Error(\"userId can't be null\");\n    }\n  } else {\n    dispatch(stopSubmit('edit-profile', { _error: data.messages[0] }));\n    await Promise.reject(data.messages[0]);\n  }\n};\n\n/** Types */\nexport type ProfilePageStateType = typeof initialState;\n\nexport type ProfilePageActionsType = InferActionsType<typeof actions>;\n\ntype ThunkType<\n  A extends Action = ProfilePageActionsType | FormAction,\n  R = Promise<void>,\n  S = { profilePage: ProfilePageStateType; auth: AuthStateType }\n> = ThunkAction<R, S, unknown, A>;\n","import { API, ApiResponseType } from './api';\nimport { PhotosType, ProfileType } from '../types/types';\n\nexport const profileApi = {\n  getProfile(userId: number): Promise<ProfileType> {\n    return API.get<ProfileType>(`profile/${userId}`).then((res) => res.data);\n  },\n  getStatus(userId: number): Promise<string> {\n    return API.get<string>(`profile/status/${userId}`).then((res) => res.data);\n  },\n  updateStatus(status: string): Promise<ApiResponseType> {\n    return API.put<ApiResponseType>(`profile/status/`, { status }).then(\n      (res) => res.data,\n    );\n  },\n  savePhoto(photo: File): Promise<ApiResponseType<PhotosType>> {\n    const formData = new FormData();\n    formData.append('image', photo);\n\n    return API.put<ApiResponseType<PhotosType>>(`profile/photo/`, formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    }).then((res) => res.data);\n  },\n  saveProfile(profile: ProfileType): Promise<ApiResponseType> {\n    return API.put<ApiResponseType>(`profile/`, profile).then(\n      (res) => res.data,\n    );\n  },\n};\n","import { randomId } from '../utils/randomId';\nimport { DialogItemType, InferActionsType, MessageType } from '../types/types';\n\nexport enum ActionType {\n  SEND_MESSAGE = 'SN/DIALOGS/SEND_MESSAGE',\n}\n\nconst initialState = {\n  dialogs: [\n    {\n      id: randomId(),\n      name: 'Andrei',\n    },\n    {\n      id: randomId(),\n      name: 'John Doe',\n    },\n    {\n      id: randomId(),\n      name: 'Patrick',\n    },\n    {\n      id: randomId(),\n      name: 'Someone',\n    },\n  ] as Array<DialogItemType>,\n  messages: [\n    {\n      id: randomId(),\n      message: 'Hi',\n    },\n    {\n      id: randomId(),\n      message: 'Hi, dude!',\n    },\n    {\n      id: randomId(),\n      message: 'Yo',\n    },\n  ] as Array<MessageType>,\n};\n\nexport const dialogsReducer = (\n  state = initialState,\n  action: DialogsPageActionsType,\n): DialogsPageStateType => {\n  switch (action.type) {\n    case ActionType.SEND_MESSAGE: {\n      const message: MessageType = {\n        id: randomId(),\n        message: action.payload,\n      };\n\n      return {\n        ...state,\n        messages: [...state.messages, message],\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\n/** Actions */\nexport const actions = {\n  sendMessage: (message: string) =>\n    ({ type: ActionType.SEND_MESSAGE, payload: message } as const),\n};\n\n/** Types */\nexport type DialogsPageStateType = typeof initialState;\n\nexport type DialogsPageActionsType = InferActionsType<typeof actions>;\n","export const randomId = (): string =>\n  Math.floor(Math.random() * 1e9).toString(16);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__2mvFD\",\"title\":\"Login_title__bh47u\",\"checkboxWrapper\":\"Login_checkboxWrapper__7_o-w\",\"btnWrapper\":\"Login_btnWrapper__2bwwv\",\"checkbox\":\"Login_checkbox__3UFrU\",\"hint\":\"Login_hint__3ofnl\",\"captchaWrapper\":\"Login_captchaWrapper__3iuBm\",\"errorWrapper\":\"Login_errorWrapper__3WLZ5 errorMessageForm_errorWrapper__LmXZN\",\"error\":\"Login_error__17Wu6 errorMessageForm_error__1dDl6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"button_btn__3GHkQ\",\"back-pulse\":\"button_back-pulse__1zdKZ\"};","import { applyMiddleware, compose, Middleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\n\nconst DEV = process.env.NODE_ENV !== 'production';\n\nconst logger = createLogger({\n  duration: true,\n  collapsed: true,\n  colors: {\n    title: () => '#139BFE',\n    prevState: () => '#1C5FAF',\n    action: () => '#149945',\n    nextState: () => '#A47104',\n    error: () => '#FF0005',\n  },\n});\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore next line\nconst devtools = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;\nconst composeEnhancers = DEV && devtools ? devtools : compose;\n\nconst middleware: Array<Middleware> = [thunk];\n\nif (DEV) middleware.push(logger);\n\nexport const enhancedStore = composeEnhancers(applyMiddleware(...middleware));\n","import { Action } from 'redux';\nimport { ThunkAction } from 'redux-thunk';\n\nimport { usersApi } from '../api/usersApi';\nimport { InferActionsType, UserType } from '../types/types';\nimport { ResultCode } from '../api/api';\n\nexport enum ActionType {\n  FOLLOW = 'SN/USERS/FOLLOW',\n  UNFOLLOW = 'SN/USERS/UNFOLLOW',\n  SET_USERS = 'SN/USERS/SET_USERS',\n  SET_CURRENT_PAGE = 'SN/USERS/SET_CURRENT_PAGE',\n  SET_USERS_TOTAL_COUNT = 'SN/USERS/SET_USERS_TOTAL_COUNT',\n  TOGGLE_IS_FETCHING = 'SN/USERS/TOGGLE_IS_FETCHING',\n  TOGGLE_IS_FOLLOWING_PROGRESS = 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS',\n}\n\nconst initialState = {\n  users: [] as Array<UserType>,\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: [] as Array<number>,\n};\n\nexport const usersReducer = (\n  state = initialState,\n  action: UsersPageActionsType,\n): UsersPageStateType => {\n  switch (action.type) {\n    case ActionType.FOLLOW:\n      return {\n        ...state,\n        users: state.users.map((u) =>\n          u.id === action.payload ? { ...u, followed: true } : u,\n        ),\n      };\n\n    case ActionType.UNFOLLOW:\n      return {\n        ...state,\n        users: state.users.map((u) =>\n          u.id === action.payload ? { ...u, followed: false } : u,\n        ),\n      };\n\n    case ActionType.SET_USERS:\n      return {\n        ...state,\n        users: action.payload,\n      };\n\n    case ActionType.SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.payload,\n      };\n\n    case ActionType.SET_USERS_TOTAL_COUNT:\n      return {\n        ...state,\n        totalUsersCount: action.payload,\n      };\n\n    case ActionType.TOGGLE_IS_FETCHING:\n      return {\n        ...state,\n        isFetching: action.payload,\n      };\n\n    case ActionType.TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.payload.isFetching\n          ? [...state.followingInProgress, action.payload.userId]\n          : state.followingInProgress.filter(\n              (id) => id !== action.payload.userId,\n            ),\n      };\n\n    default:\n      return state;\n  }\n};\n\n/** Actions */\nexport const actions = {\n  follow: (userId: number) =>\n    ({ type: ActionType.FOLLOW, payload: userId } as const),\n\n  unfollow: (userId: number) =>\n    ({ type: ActionType.UNFOLLOW, payload: userId } as const),\n\n  setUsers: (users: Array<UserType>) =>\n    ({ type: ActionType.SET_USERS, payload: users } as const),\n\n  setCurrentPage: (page: number) =>\n    ({ type: ActionType.SET_CURRENT_PAGE, payload: page } as const),\n\n  setUsersTotalCount: (totalCount: number) =>\n    ({ type: ActionType.SET_USERS_TOTAL_COUNT, payload: totalCount } as const),\n\n  toggleIsFetching: (isFetching: boolean) =>\n    ({ type: ActionType.TOGGLE_IS_FETCHING, payload: isFetching } as const),\n\n  toggleFollowingProgress: (isFetching: boolean, userId: number) =>\n    ({\n      type: ActionType.TOGGLE_IS_FOLLOWING_PROGRESS,\n      payload: {\n        isFetching,\n        userId,\n      },\n    } as const),\n};\n\n/** Thunks */\nexport const requestUsers = (\n  page: number,\n  pageSize: number,\n): ThunkType => async (dispatch) => {\n  dispatch(actions.toggleIsFetching(true));\n  dispatch(actions.setCurrentPage(page));\n\n  const data = await usersApi.getUsers(page, pageSize);\n\n  dispatch(actions.toggleIsFetching(false));\n  dispatch(actions.setUsers(data.items));\n  dispatch(actions.setUsersTotalCount(data.totalCount));\n};\n\nexport const followUser = (userId: number): ThunkType => async (dispatch) => {\n  dispatch(actions.toggleFollowingProgress(true, userId));\n\n  const data = await usersApi.follow(userId);\n\n  if (data.resultCode === ResultCode.Success) {\n    dispatch(actions.follow(userId));\n  }\n  dispatch(actions.toggleFollowingProgress(false, userId));\n};\n\nexport const unfollowUser = (userId: number): ThunkType => async (dispatch) => {\n  dispatch(actions.toggleFollowingProgress(true, userId));\n\n  const data = await usersApi.unfollow(userId);\n\n  if (data.resultCode === ResultCode.Success) {\n    dispatch(actions.unfollow(userId));\n  }\n  dispatch(actions.toggleFollowingProgress(false, userId));\n};\n\n/** Types */\nexport type UsersPageStateType = typeof initialState;\n\nexport type UsersPageActionsType = InferActionsType<typeof actions>;\n\ntype ThunkType<\n  A extends Action = UsersPageActionsType,\n  R = Promise<void>,\n  S = { usersPage: UsersPageStateType }\n> = ThunkAction<R, S, unknown, A>;\n","import { API, ApiResponseType, UsersResponseType } from './api';\n\nexport const usersApi = {\n  getUsers(page = 1, pageSize = 5): Promise<UsersResponseType> {\n    return API.get<UsersResponseType>(\n      `users?page=${page}&count=${pageSize}`,\n    ).then((res) => res.data);\n  },\n\n  follow(userId: number): Promise<ApiResponseType> {\n    return API.post<ApiResponseType>(`follow/${userId}`).then(\n      (res) => res.data,\n    );\n  },\n\n  unfollow(userId: number): Promise<ApiResponseType> {\n    return API.delete<ApiResponseType>(`follow/${userId}`).then(\n      (res) => res.data,\n    );\n  },\n};\n","import { Action } from 'redux';\nimport { ThunkAction } from 'redux-thunk';\nimport { FormAction, stopSubmit } from 'redux-form';\n\nimport { authApi, LoginDataType } from '../api/authApi';\nimport { securityApi } from '../api/securityApi';\nimport { ResultCode, ResultCodeCaptcha } from '../api/api';\nimport { InferActionsType } from '../types/types';\n\nexport enum ActionType {\n  SET_AUTH_USER_DATA = 'SN/AUTH/SET_AUTH_USER_DATA',\n  SET_CAPTCHA_URL = 'SN/AUTH/SET_CAPTCHA_URL',\n}\n\nconst initialState = {\n  id: null as number | null,\n  email: null as string | null,\n  login: null as string | null,\n  isAuth: false,\n  captchaUrl: null as string | null,\n};\n\nexport const authReducer = (\n  state = initialState,\n  action: AuthActionsType,\n): AuthStateType => {\n  switch (action.type) {\n    case ActionType.SET_AUTH_USER_DATA:\n    case ActionType.SET_CAPTCHA_URL:\n      return {\n        ...state,\n        ...action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\n/** Actions */\nexport const actions = {\n  setAuthUserData: (\n    id: number | null,\n    email: string | null,\n    login: string | null,\n    isAuth: boolean,\n  ) =>\n    ({\n      type: ActionType.SET_AUTH_USER_DATA,\n      payload: { id, email, login, isAuth },\n    } as const),\n  setCaptchaUrl: (captchaUrl: string) =>\n    ({\n      type: ActionType.SET_CAPTCHA_URL,\n      payload: { captchaUrl },\n    } as const),\n};\n\n/** Thunks */\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\n  const data = await authApi.me();\n\n  if (data.resultCode === ResultCode.Success) {\n    const { id, email, login } = data.data;\n\n    dispatch(actions.setAuthUserData(id, email, login, true));\n  }\n};\n\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\n  const data = await securityApi.getCaptchaUrl();\n\n  if (data.url) {\n    await dispatch(actions.setCaptchaUrl(data.url));\n  }\n};\n\nexport const login = (loginData: LoginDataType): ThunkType => async (\n  dispatch,\n) => {\n  const data = await authApi.login(loginData);\n\n  if (data.resultCode === ResultCode.Success) {\n    await dispatch(getAuthUserData());\n  } else {\n    if (data.resultCode === ResultCodeCaptcha.Required) {\n      await dispatch(getCaptchaUrl());\n    }\n\n    const message = data.messages.length ? data.messages[0] : 'Some error';\n\n    dispatch(stopSubmit('login', { _error: message }));\n  }\n};\n\nexport const logout = (): ThunkType => async (dispatch) => {\n  const data = await authApi.logout();\n\n  if (data.resultCode === ResultCode.Success) {\n    dispatch(actions.setAuthUserData(null, null, null, false));\n  }\n};\n\n/** Types */\nexport type AuthStateType = typeof initialState;\n\nexport type AuthActionsType = InferActionsType<typeof actions>;\n\ntype ThunkType<\n  A extends Action = AuthActionsType | FormAction,\n  R = Promise<void>,\n  S = { auth: AuthStateType }\n> = ThunkAction<R, S, unknown, A>;\n","import { API, ApiResponseType, ResultCode, ResultCodeCaptcha } from './api';\n\ntype MeResponseDataType = {\n  id: number;\n  email: string;\n  login: string;\n};\n\ntype LoginResponseDataType = {\n  userId: number;\n};\n\nexport type LoginDataType = {\n  email: string;\n  password: string;\n  rememberMe?: boolean;\n  captcha?: null | string;\n};\n\nexport const authApi = {\n  me(): Promise<ApiResponseType<MeResponseDataType>> {\n    return API.get<ApiResponseType<MeResponseDataType>>(`auth/me`).then(\n      (res) => res.data,\n    );\n  },\n  login({\n    email,\n    password,\n    rememberMe = false,\n    captcha = null,\n  }: LoginDataType): Promise<\n    ApiResponseType<LoginResponseDataType, ResultCode | ResultCodeCaptcha>\n  > {\n    return API.post<\n      ApiResponseType<LoginResponseDataType, ResultCode | ResultCodeCaptcha>\n    >(`auth/login`, {\n      email,\n      password,\n      rememberMe,\n      captcha,\n    }).then((res) => res.data);\n  },\n  logout(): Promise<ApiResponseType> {\n    return API.delete<ApiResponseType>(`auth/login`).then((res) => res.data);\n  },\n};\n","import { API } from './api';\n\ntype GetCaptchaUrlResponseType = {\n  url: string;\n};\n\nexport const securityApi = {\n  getCaptchaUrl(): Promise<GetCaptchaUrlResponseType> {\n    return API.get<GetCaptchaUrlResponseType>(`security/get-captcha-url`).then(\n      (res) => res.data,\n    );\n  },\n};\n","import { Action } from 'redux';\nimport { ThunkAction } from 'redux-thunk';\n\nimport { AuthStateType, getAuthUserData } from './authReducer';\nimport { InferActionsType } from '../types/types';\n\nexport enum ActionType {\n  INITIALIZED_SUCCESS = 'SN/APP/INITIALIZED_SUCCESS',\n}\n\nconst initialState = {\n  initialized: false,\n};\n\nexport const appReducer = (\n  state = initialState,\n  action: AppActionsType,\n): AppInitialStateType => {\n  switch (action.type) {\n    case ActionType.INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      };\n\n    default:\n      return state;\n  }\n};\n\n/** Actions */\nexport const actions = {\n  initializedSuccess: () =>\n    ({\n      type: ActionType.INITIALIZED_SUCCESS,\n    } as const),\n};\n\n/** Thunks */\nexport const initializeApp = (): ThunkType => async (dispatch) => {\n  const AuthUserDataPromise = await dispatch(getAuthUserData());\n\n  Promise.all([AuthUserDataPromise]).then(() => {\n    dispatch(actions.initializedSuccess());\n  });\n};\n\n/** Types */\nexport type AppInitialStateType = typeof initialState;\n\nexport type AppActionsType = InferActionsType<typeof actions>;\n\ntype ThunkType<\n  A extends Action = AppActionsType,\n  R = Promise<void>,\n  S = { app: AppInitialStateType; auth: AuthStateType }\n> = ThunkAction<R, S, unknown, A>;\n","const initialState = {};\n\nexport type SidebarType = typeof initialState;\n\nexport const sidebarReducer = (\n  state = initialState,\n  action: SidebarActionTypes,\n): SidebarType => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\ntype SidebarActionTypes = { type: 'TYPE' };\n","import { combineReducers, createStore } from 'redux';\nimport { reducer as form } from 'redux-form';\n\nimport { enhancedStore } from './middleware';\nimport { dialogsReducer as dialogsPage } from './dialogsReducer';\nimport { profileReducer as profilePage } from './profileReducer';\nimport { usersReducer as usersPage } from './usersReducer';\nimport { authReducer as auth } from './authReducer';\nimport { appReducer as app } from './appReducer';\nimport { sidebarReducer as sidebar } from './sidebarReducer';\n\nexport type AppStateType = ReturnType<typeof rootReducer>;\n\nconst rootReducer = combineReducers({\n  profilePage,\n  dialogsPage,\n  sidebar,\n  usersPage,\n  auth,\n  app,\n  form,\n});\n\nexport const store = createStore(rootReducer, enhancedStore);\n\n// FIXME remove global __store__\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore next line\nwindow.store = store;\n","import { ReportHandler } from 'web-vitals';\n\nexport const reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n","export default __webpack_public_path__ + \"static/media/logo.d6c257c2.svg\";","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport s from './Header.module.css';\nimport styleBtn from '../common/styles/button.module.css';\nimport logo from '../../assets/images/logo.svg';\n\nexport type HeaderPropsType = {\n  login: string | null;\n  logout: () => void;\n  isAuth: boolean;\n};\n\nexport const Header: FC<HeaderPropsType> = ({ login, logout, isAuth }) => {\n  return (\n    <header className={s.header}>\n      <div className={s.container}>\n        <img className={s.logo} src={logo} width=\"40\" height=\"40\" alt=\"Logo\" />\n        <div className={s.loginBlock}>\n          {isAuth ? (\n            <div>\n              <span className={s.login}>{login}</span>\n              <button type=\"button\" className={styleBtn.btn} onClick={logout}>\n                Log out\n              </button>\n            </div>\n          ) : (\n            <Link className={styleBtn.btn} to=\"/login\">\n              Log in\n            </Link>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n};\n","import React, { FC } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Header } from './Header';\nimport { AppStateType } from '../../redux/reduxStore';\nimport { logout } from '../../redux/authReducer';\n\nexport type StatePropsType = {\n  login: string | null;\n  isAuth: boolean;\n};\n\nexport type DispatchPropsType = {\n  logout: () => void;\n};\n\nexport type PropsType = StatePropsType & DispatchPropsType;\n\nconst HeaderAPIContainer: FC<PropsType> = (props) => {\n  const { login, logout: logoutCallback, isAuth } = props;\n\n  return <Header login={login} logout={logoutCallback} isAuth={isAuth} />;\n};\n\nconst mapStateToProps = ({\n  auth: { login, isAuth },\n}: AppStateType): StatePropsType => {\n  return { login, isAuth };\n};\n\nexport const HeaderContainer = connect<\n  StatePropsType,\n  DispatchPropsType,\n  Record<string, never>,\n  AppStateType\n>(mapStateToProps, { logout })(HeaderAPIContainer);\n","import React, { FC } from 'react';\n\nimport s from './Paginator.module.css';\n\ntype PaginatorPropsType = {\n  pageSize: number;\n  totalItemsCount: number;\n  currentPage?: number;\n  changePageHandler: (page: number) => void;\n  portionSize?: number;\n};\n\nexport const Paginator: FC<PaginatorPropsType> = ({\n  pageSize,\n  totalItemsCount,\n  currentPage = 1,\n  changePageHandler,\n  portionSize = 10,\n}) => {\n  const portionCount = Math.ceil(totalItemsCount / pageSize);\n\n  const startIndex = Math.floor((currentPage - 1) / portionSize) * portionSize;\n\n  const pages = Array(portionSize)\n    .fill(null)\n    .reduce((acc, item, idx) => {\n      const current = idx + 1 + startIndex;\n\n      if (current <= portionCount) {\n        return [...acc, current];\n      }\n\n      return acc;\n    }, []);\n\n  return (\n    <div className={s.paginator}>\n      <button\n        type=\"button\"\n        className={`${s.btn}`}\n        disabled={currentPage === 1}\n        onClick={() => changePageHandler(1)}\n      >\n        First\n      </button>\n      <button\n        type=\"button\"\n        className={`${s.btn}`}\n        disabled={currentPage === 1}\n        onClick={() => changePageHandler(currentPage - 1)}\n      >\n        Previous\n      </button>\n      {pages.map((p: number) => {\n        const isCurrent = p === currentPage;\n\n        return (\n          <button\n            type=\"button\"\n            key={p}\n            className={`${s.btn} ${isCurrent && s.selected}`}\n            disabled={isCurrent}\n            onClick={() => changePageHandler(p)}\n          >\n            {p}\n          </button>\n        );\n      })}\n      <button\n        type=\"button\"\n        className={`${s.btn}`}\n        disabled={currentPage === portionCount}\n        onClick={() => changePageHandler(currentPage + 1)}\n      >\n        Next\n      </button>\n      <button\n        type=\"button\"\n        className={`${s.btn}`}\n        disabled={currentPage === portionCount}\n        onClick={() => changePageHandler(portionCount)}\n      >\n        Last\n      </button>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport s from './User.module.css';\nimport userAvatar from '../../../assets/images/userAvatar.svg';\nimport styleBtn from '../../common/styles/button.module.css';\nimport { UserType } from '../../../types/types';\n\ntype UsersPropsType = {\n  user: UserType;\n  followingInProgress: Array<number>;\n  follow: (userId: number) => void;\n  unfollow: (userId: number) => void;\n};\n\nexport const User: FC<UsersPropsType> = ({\n  user,\n  followingInProgress,\n  follow,\n  unfollow,\n}) => {\n  return (\n    <li className={s.item}>\n      <div>\n        <div className={s.avatarWrapper}>\n          <Link to={`/profile/${user.id}`}>\n            <img\n              className={s.avatar}\n              src={user.photos.small || userAvatar}\n              width=\"50\"\n              height=\"50\"\n              alt=\"User avatar\"\n            />\n          </Link>\n        </div>\n        <div>\n          {user.followed ? (\n            <button\n              className={styleBtn.btn}\n              type=\"button\"\n              disabled={followingInProgress.some((id) => id === user.id)}\n              onClick={() => {\n                unfollow(user.id);\n              }}\n            >\n              Unfollow\n            </button>\n          ) : (\n            <button\n              className={styleBtn.btn}\n              type=\"button\"\n              disabled={followingInProgress.some((id) => id === user.id)}\n              onClick={() => {\n                follow(user.id);\n              }}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      </div>\n      <div className={s.info}>\n        <div>\n          <div className={s.name}>{user.name}</div>\n          <div className={s.status}>{user.status || 'Status is empty'}</div>\n        </div>\n        <div className={s.location}>\n          <div>user.location.country</div>\n          <div>user.location.city</div>\n        </div>\n      </div>\n    </li>\n  );\n};\n","import React, { FC } from 'react';\n\nimport s from './Users.module.css';\nimport styleBtn from '../common/styles/button.module.css';\nimport { UserType } from '../../types/types';\nimport { Paginator } from '../common/Paginator/Paginator';\nimport { User } from './User/User';\n\ntype UsersPropsType = {\n  users: Array<UserType>;\n  pageSize: number;\n  totalUsersCount: number;\n  page: number;\n  followingInProgress: Array<number>;\n  follow: (userId: number) => void;\n  unfollow: (userId: number) => void;\n  changePageHandler: (page: number) => void;\n};\n\nexport const Users: FC<UsersPropsType> = (props) => {\n  const {\n    users,\n    pageSize,\n    totalUsersCount,\n    page,\n    followingInProgress,\n    follow,\n    unfollow,\n    changePageHandler,\n  } = props;\n\n  const userElements = users.map((user) => (\n    <User\n      key={user.id}\n      user={user}\n      followingInProgress={followingInProgress}\n      follow={follow}\n      unfollow={unfollow}\n    />\n  ));\n\n  return (\n    <div className={s.usersBlock}>\n      <Paginator\n        pageSize={pageSize}\n        totalItemsCount={totalUsersCount}\n        currentPage={page}\n        changePageHandler={changePageHandler}\n      />\n\n      <ul className={s.list}>{userElements}</ul>\n      <button className={styleBtn.btn} type=\"button\" onClick={() => {}}>\n        Show more\n      </button>\n    </div>\n  );\n};\n","import { createSelector } from 'reselect';\n\nimport { AppStateType } from './reduxStore';\nimport { UserType } from '../types/types';\n\nconst getUsersSelector = (state: AppStateType): Array<UserType> =>\n  state.usersPage.users;\n\nexport const getUsers = createSelector(\n  getUsersSelector,\n  (users): Array<UserType> => users.filter((u) => !!u),\n);\n\nexport const getPageSize = (state: AppStateType): number =>\n  state.usersPage.pageSize;\n\nexport const getTotalUsersCount = (state: AppStateType): number =>\n  state.usersPage.totalUsersCount;\n\nexport const getCurrentPage = (state: AppStateType): number =>\n  state.usersPage.currentPage;\n\nexport const getIsFetching = (state: AppStateType): boolean =>\n  state.usersPage.isFetching;\n\nexport const getFollowingInProgress = (state: AppStateType): Array<number> =>\n  state.usersPage.followingInProgress;\n","import React, { Component, ComponentType } from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { AppStateType } from '../../redux/reduxStore';\nimport {\n  actions as usersActions,\n  followUser,\n  requestUsers,\n  unfollowUser,\n} from '../../redux/usersReducer';\nimport { UserType } from '../../types/types';\nimport { Users } from './Users';\nimport { Preloader } from '../common/Preloader/Preloader';\nimport * as usersSelectors from '../../redux/usersSelectors';\n\nconst { setCurrentPage } = usersActions;\n\ntype StatePropsType = {\n  users: Array<UserType>;\n  pageSize: number;\n  totalUsersCount: number;\n  page: number;\n  isFetching: boolean;\n  followingInProgress: Array<number>;\n};\n\ntype DispatchPropsType = {\n  followUser: (userId: number) => void;\n  unfollowUser: (userId: number) => void;\n  setCurrentPage: (page: number) => void;\n  requestUsers: (page: number, pageSize: number) => void;\n};\n\ntype PropsType = StatePropsType & DispatchPropsType;\n\nclass UsersAPIContainer extends Component<PropsType> {\n  componentDidMount() {\n    const { page, pageSize, requestUsers: getUsers } = this.props;\n    getUsers(page, pageSize);\n  }\n\n  changePageHandler = (page: number) => {\n    const { pageSize, requestUsers: getUsers } = this.props;\n    getUsers(page, pageSize);\n  };\n\n  render(): JSX.Element {\n    const {\n      users,\n      pageSize,\n      totalUsersCount,\n      page,\n      followingInProgress,\n      followUser: follow,\n      unfollowUser: unfollow,\n      isFetching,\n    } = this.props;\n\n    return (\n      <>\n        {isFetching ? (\n          <Preloader text=\"Loading...\" />\n        ) : (\n          <Users\n            users={users}\n            pageSize={pageSize}\n            totalUsersCount={totalUsersCount}\n            page={page}\n            followingInProgress={followingInProgress}\n            follow={follow}\n            unfollow={unfollow}\n            changePageHandler={this.changePageHandler}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: AppStateType): StatePropsType => {\n  return {\n    users: usersSelectors.getUsers(state),\n    pageSize: usersSelectors.getPageSize(state),\n    totalUsersCount: usersSelectors.getTotalUsersCount(state),\n    page: usersSelectors.getCurrentPage(state),\n    isFetching: usersSelectors.getIsFetching(state),\n    followingInProgress: usersSelectors.getFollowingInProgress(state),\n  };\n};\n\nexport const UsersContainer = compose<ComponentType>(\n  connect(mapStateToProps, {\n    followUser,\n    unfollowUser,\n    setCurrentPage,\n    requestUsers,\n  }),\n)(UsersAPIContainer);\n","import React, { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { reduxForm, InjectedFormProps, Field } from 'redux-form';\n\nimport s from './Login.module.css';\nimport styleBtn from '../common/styles/button.module.css';\nimport { Input } from '../common/FormsControls/FormsControls';\nimport { maxLengthCreator, required } from '../../utils/validators';\nimport { login } from '../../redux/authReducer';\nimport { AppStateType } from '../../redux/reduxStore';\nimport { LoginDataType } from '../../api/authApi';\n\nconst maxLength30 = maxLengthCreator(30);\n\ntype LoginFormDataType = {\n  email: string;\n  password: string;\n  rememberMe: boolean;\n  captcha: string;\n};\n\ntype LoginFormOwnPropsType = {\n  captchaUrl: null | string;\n};\n\nconst LoginForm: FC<\n  InjectedFormProps<LoginFormDataType, LoginFormOwnPropsType> &\n    LoginFormOwnPropsType\n> = ({ handleSubmit, error, captchaUrl }) => {\n  return (\n    <form className={s.form} onSubmit={handleSubmit}>\n      <Field\n        component={Input}\n        name=\"email\"\n        placeholder=\"Email\"\n        validate={[required, maxLength30]}\n      />\n\n      <Field\n        component={Input}\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"Password\"\n        validate={[required, maxLength30]}\n      />\n\n      {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\n      <label className={`${s.checkboxWrapper}`}>\n        <Field\n          className={s.checkbox}\n          component=\"input\"\n          type=\"checkbox\"\n          name=\"rememberMe\"\n        />\n        <span className={s.hint}>remember me</span>\n      </label>\n\n      {captchaUrl && (\n        <div className={`${s.captchaWrapper}`}>\n          <img src={captchaUrl} alt=\"Captcha\" />\n\n          <Field\n            component={Input}\n            name=\"captcha\"\n            placeholder=\"Symbols from image\"\n            validate={[required]}\n          />\n        </div>\n      )}\n\n      <div className={`${s.errorWrapper}`}>\n        {error && <span className={`${s.error}`}>{error}</span>}\n      </div>\n\n      <div className={`${s.btnWrapper}`}>\n        <button type=\"submit\" className={styleBtn.btn}>\n          Log in\n        </button>\n      </div>\n    </form>\n  );\n};\n\nconst LoginReduxForm = reduxForm<LoginFormDataType, LoginFormOwnPropsType>({\n  form: 'login',\n})(LoginForm);\n\ntype StatePropsType = {\n  isAuth: boolean;\n  captchaUrl: null | string;\n};\n\ntype DispatchPropsType = {\n  login: (loginData: LoginDataType) => void;\n};\n\nconst Login: FC<StatePropsType & DispatchPropsType> = ({\n  login: loginCallback,\n  isAuth,\n  captchaUrl,\n}) => {\n  const submitHandler = (formData: LoginFormDataType) => {\n    loginCallback({ ...formData });\n  };\n\n  if (isAuth) return <Redirect to=\"/profile\" />;\n\n  return (\n    <div>\n      <h1 className={s.title}>LOGIN</h1>\n\n      <div className={s.loginFormWrapper}>\n        <LoginReduxForm onSubmit={submitHandler} captchaUrl={captchaUrl} />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  auth: { isAuth, captchaUrl },\n}: AppStateType): StatePropsType => {\n  return {\n    isAuth,\n    captchaUrl,\n  };\n};\n\nexport const LoginPage = connect<\n  StatePropsType,\n  DispatchPropsType,\n  Record<string, never>,\n  AppStateType\n>(mapStateToProps, { login })(Login);\n","import React, { FC } from 'react';\nimport s from './Error404.module.css';\n\nexport const Error404: FC = () => {\n  return (\n    <div className={s.page}>\n      <div className={s.main}>\n        <h1 className={s.title}>404 - Not&nbsp;found</h1>\n        <p className={s.text}>\n          <span>Uh oh.</span> <span>\\_()_/</span>\n        </p>\n      </div>\n    </div>\n  );\n};\n","import React, { FC, lazy } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport { UsersContainer } from '../components/Users/UsersContainer';\nimport { LoginPage } from '../components/Login/Login';\nimport { Error404 } from '../components/common/Error404/Error404';\n\nexport const PATH = {\n  PROFILE: '/profile',\n  DIALOGS: '/dialogs',\n  USERS: '/users',\n\n  LOGIN: '/login',\n  ERROR_404: '/404',\n};\n\nconst DialogsContainer = lazy(async () => {\n  const module = await import('../components/Dialogs/DialogsContainer');\n  return { default: module.DialogsContainer };\n});\nconst ProfileContainer = lazy(async () => {\n  const module = await import('../components/Profile/ProfileContainer');\n  return { default: module.ProfileContainer };\n});\n\nexport const Routes: FC = () => {\n  return (\n    <>\n      <Switch>\n        <Route path=\"/\" exact render={() => <Redirect to={PATH.PROFILE} />} />\n\n        <Route\n          path={`${PATH.PROFILE}/:userId?`}\n          render={() => <ProfileContainer />}\n        />\n        <Route path={PATH.DIALOGS} render={() => <DialogsContainer />} />\n        <Route path={PATH.USERS} render={() => <UsersContainer />} />\n        <Route path={PATH.LOGIN} render={() => <LoginPage />} />\n        <Route path={PATH.ERROR_404} render={() => <Error404 />} />\n\n        <Redirect from=\"*\" to={PATH.ERROR_404} />\n      </Switch>\n    </>\n  );\n};\n","import React, { FC } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport s from './Navbar.module.css';\nimport { randomId } from '../../utils/randomId';\nimport { PATH } from '../../app/Routes';\n\nexport const Navbar: FC = () => {\n  return (\n    <nav className={s.nav}>\n      <ul className={s.list}>\n        {Object.entries(PATH)\n          .slice(0, 3)\n          .map(([title, link]) => {\n            return (\n              <li key={randomId()} className={s.item}>\n                <NavLink\n                  className={s.link}\n                  to={link}\n                  activeClassName={s.active}\n                  replace\n                >\n                  {title.toLowerCase()}\n                </NavLink>\n              </li>\n            );\n          })}\n      </ul>\n    </nav>\n  );\n};\n","import React, { Component, ComponentType, FC, Suspense } from 'react';\nimport { HashRouter as Router, withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { connect, Provider } from 'react-redux';\n\nimport s from './App.module.css';\nimport { AppStateType, store } from '../redux/reduxStore';\nimport { HeaderContainer } from '../components/Header/HeaderContainer';\nimport { Navbar } from '../components/Navbar/Navbar';\nimport { initializeApp } from '../redux/appReducer';\nimport { Preloader } from '../components/common/Preloader/Preloader';\nimport { Routes } from './Routes';\n\ntype StatePropsType = {\n  initialized: boolean;\n};\n\ntype DispatchPropsType = {\n  initializeApp: () => void;\n};\n\ntype PropsType = StatePropsType & DispatchPropsType;\n\nclass App extends Component<PropsType> {\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\n    // TODO dispatch error message instead of alert (lesson 99, 45:00)\n    // eslint-disable-next-line no-alert\n    alert('Some error occurred');\n  };\n\n  componentWillUnount() {\n    window.removeEventListener(\n      'unhandledrejection',\n      this.catchAllUnhandledErrors,\n    );\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return (\n        <div className={s.preloaderAppWrapper}>\n          <Preloader text=\"Loading SamuraiJSApp\" />\n        </div>\n      );\n    }\n\n    return (\n      <div className={s.appWrapper}>\n        <HeaderContainer />\n\n        <div className={s.container}>\n          <Navbar />\n\n          <main className={s.appContent}>\n            <Suspense\n              fallback={\n                <div className={s.preloaderPageWrapper}>\n                  <Preloader text=\"Loading...\" />\n                </div>\n              }\n            >\n              <Routes />\n            </Suspense>\n          </main>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  app: { initialized },\n}: AppStateType): StatePropsType => {\n  return {\n    initialized,\n  };\n};\n\nconst AppContainer = compose<ComponentType>(\n  connect(mapStateToProps, { initializeApp }),\n  withRouter,\n)(App);\n\nexport const SamuraiJSApp: FC = () => {\n  return (\n    <Provider store={store}>\n      <Router>\n        <AppContainer />\n      </Router>\n    </Provider>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { SamuraiJSApp } from './app/App';\nimport { reportWebVitals } from './reportWebVitals';\n\nReactDOM.render(<SamuraiJSApp />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Paginator_btn__C1fmc\",\"selected\":\"Paginator_selected__2cTTO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"User_item__2PdYA\",\"avatarWrapper\":\"User_avatarWrapper__abUew\",\"avatar\":\"User_avatar__27DBJ\",\"info\":\"User_info__2Xv8f\",\"location\":\"User_location__2fcbB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__ZMEuH\",\"container\":\"App_container__7_OSo container_container__1yKAy\",\"appContent\":\"App_appContent__3kXFC\",\"preloaderAppWrapper\":\"App_preloaderAppWrapper__37ovM\",\"preloaderPageWrapper\":\"App_preloaderPageWrapper__3acpy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"container\":\"Header_container__1VC87 container_container__1yKAy\",\"logo\":\"Header_logo__3_SJs\",\"login\":\"Header_login__3V3Qa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"list\":\"Navbar_list__2GzPV\",\"link\":\"Navbar_link__TNvz9\",\"active\":\"Navbar_active__3mbhk\"};","import React, { FC } from 'react';\n\nimport s from './Preloader.module.css';\n\ntype PreloaderPropsType = {\n  text?: string;\n};\n\nexport const Preloader: FC<PreloaderPropsType> = ({ text }) => {\n  return (\n    <div className={s.preloader}>\n      <div className={s.loaderCircle} />\n      <div className={s.loaderBottom}>{text}</div>\n    </div>\n  );\n};\n","type FieldValidatorType = (value: string) => string | undefined;\n\nexport const required: FieldValidatorType = (value) => {\n  return value ? undefined : 'Field is required';\n};\n\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (\n  value,\n) => {\n  return value && value.length > maxLength\n    ? `Max length is ${maxLength} symbols`\n    : undefined;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Error404_page__OgCEo\",\"title\":\"Error404_title__AzCYh\",\"text\":\"Error404_text__2CMhG\"};","import React, { FC } from 'react';\nimport { WrappedFieldMetaProps, WrappedFieldProps } from 'redux-form';\n\nimport s from './FormsControls.module.css';\n\ntype FormControlPropsType = {\n  meta: WrappedFieldMetaProps;\n  className?: string;\n};\n\nexport const FormControl: FC<FormControlPropsType> = ({\n  meta: { touched, error },\n  children,\n  className = '',\n}) => {\n  const hasError = touched && error;\n\n  const formControlClassName = `${s.formControl} ${className} ${\n    hasError && s.formControlError\n  }`;\n\n  return (\n    <div className={formControlClassName}>\n      {hasError && <span className={`${s.error}`}>{error}</span>}\n\n      {children}\n    </div>\n  );\n};\n\nexport const Textarea: FC<WrappedFieldProps> = (props) => {\n  const { input, meta, ...restProps } = props;\n\n  return (\n    <FormControl {...props}>\n      <textarea {...input} {...restProps} />\n    </FormControl>\n  );\n};\n\nexport const Input: FC<WrappedFieldProps> = (props) => {\n  const { input, meta, ...restProps } = props;\n\n  return (\n    <FormControl {...props}>\n      <input type=\"text\" {...input} {...restProps} />\n    </FormControl>\n  );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2dvkO\",\"loaderCircle\":\"Preloader_loaderCircle__2WGY1\",\"load\":\"Preloader_load__3tO9j\",\"loaderBottom\":\"Preloader_loaderBottom__3u2bT\",\"pulse\":\"Preloader_pulse__2uAlH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formControlError\":\"FormsControls_formControlError__MEb4f\"};","import axios from 'axios';\nimport { UserType } from '../types/types';\n\nexport type UsersResponseType = {\n  items: Array<UserType>;\n  totalCount: number;\n  error: string | null;\n};\n\nexport enum ResultCode {\n  Success = 0,\n  Error = 1,\n}\n\nexport enum ResultCodeCaptcha {\n  Required = 10,\n}\n\nexport type ApiResponseType<D = Record<string, unknown>, RC = ResultCode> = {\n  resultCode: RC;\n  messages: Array<string>;\n  data: D;\n};\n\nexport const API = axios.create({\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  withCredentials: true,\n  headers: {\n    'API-KEY': process.env.REACT_APP_API_KEY,\n  },\n});\n"],"sourceRoot":""}