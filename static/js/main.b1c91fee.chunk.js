(this["webpackJsonpreact-way-of-samurai"]=this["webpackJsonpreact-way-of-samurai"]||[]).push([[0],{100:function(e,t,n){e.exports={usersBlock:"Users_usersBlock__2PNX-",list:"Users_list__bCqoi"}},103:function(e,t,n){"use strict";t.a=n.p+"static/media/userAvatar.3b076f75.svg"},105:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return E}));var r,a=n(7),c=n.n(a),o=n(13),s=n(30),i=n(3),u=n(38),l=n(15),d=n(9),p=function(e){return d.a.get("profile/".concat(e)).then((function(e){return e.data}))},f=function(e){return d.a.get("profile/status/".concat(e)).then((function(e){return e.data}))},b=function(e){return d.a.put("profile/status/",{status:e}).then((function(e){return e.data}))},j=function(e){var t=new FormData;return t.append("image",e),d.a.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},O=function(e){return d.a.put("profile/",e).then((function(e){return e.data}))};!function(e){e.ADD_POST="SN/PROFILE/ADD_POST",e.DELETE_POST="SN/PROFILE/DELETE_POST",e.SET_USER_PROFILE="SN/PROFILE/SET_USER_PROFILE",e.SET_STATUS="SN/PROFILE/SET_STATUS",e.SET_USER_PHOTO="SN/PROFILE/SET_USER_PHOTO"}(r||(r={}));var h={posts:[{id:Object(l.a)(),message:"Hi, dude!",likesCount:12},{id:Object(l.a)(),message:"yo bro",likesCount:8},{id:Object(l.a)(),message:"wazzup",likesCount:111}],profile:null,status:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.ADD_POST:var n={id:Object(l.a)(),message:t.payload,likesCount:0};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n])});case r.DELETE_POST:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload}))});case r.SET_USER_PROFILE:return Object(i.a)(Object(i.a)({},e),{},{profile:t.payload});case r.SET_STATUS:return Object(i.a)(Object(i.a)({},e),{},{status:t.payload});case r.SET_USER_PHOTO:return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.payload})});default:return e}},m={addPost:function(e){return{type:r.ADD_POST,payload:e}},deletePost:function(e){return{type:r.DELETE_POST,payload:e}},setUserProfile:function(e){return{type:r.SET_USER_PROFILE,payload:e}},setStatus:function(e){return{type:r.SET_STATUS,payload:e}},setUserPhoto:function(e){return{type:r.SET_USER_PHOTO,payload:e}}},S=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:r=t.sent,n(m.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:r=t.sent,n(m.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b(e);case 3:t.sent.resultCode===d.b.Success&&n(m.setStatus(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error",Object(i.a)({},t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:(r=t.sent).resultCode===d.b.Success&&n(m.setUserPhoto(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n,r){var a,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r(),o=a.auth.id,t.next=3,O(e);case 3:if((s=t.sent).resultCode!==d.b.Success){t.next=13;break}if(!o){t.next=10;break}return t.next=8,n(S(o));case 8:t.next=11;break;case 10:throw new Error("userId can't be null");case 11:t.next=16;break;case 13:return n(Object(u.a)("edit-profile",{_error:s.messages[0]})),t.next=16,Promise.reject(s.messages[0]);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},107:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r,a=n(30),c=n(3),o=n(15);!function(e){e.SEND_MESSAGE="SN/DIALOGS/SEND_MESSAGE"}(r||(r={}));var s={dialogs:[{id:Object(o.a)(),name:"Andrei"},{id:Object(o.a)(),name:"John Doe"},{id:Object(o.a)(),name:"Patrick"},{id:Object(o.a)(),name:"Someone"}],messages:[{id:Object(o.a)(),message:"Hi"},{id:Object(o.a)(),message:"Hi, dude!"},{id:Object(o.a)(),message:"Yo"}]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SEND_MESSAGE:var n={id:Object(o.a)(),message:t.payload};return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[n])});default:return e}},u={sendMessage:function(e){return{type:r.SEND_MESSAGE,payload:e}}}},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Math.floor(1e9*Math.random()).toString(16)}},174:function(e,t,n){},23:function(e,t,n){e.exports={form:"Login_form__2mvFD",title:"Login_title__bh47u",checkboxWrapper:"Login_checkboxWrapper__7_o-w",btnWrapper:"Login_btnWrapper__2bwwv",checkbox:"Login_checkbox__3UFrU",hint:"Login_hint__3ofnl",captchaWrapper:"Login_captchaWrapper__3iuBm",errorWrapper:"Login_errorWrapper__3WLZ5 errorMessageForm_errorWrapper__LmXZN",error:"Login_error__17Wu6 errorMessageForm_error__1dDl6"}},27:function(e,t,n){e.exports={btn:"button_btn__3GHkQ","back-pulse":"button_back-pulse__1zdKZ"}},297:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(73),c=n.n(a),o=(n(174),n(60)),s=n(61),i=n(72),u=n(71),l=n(12),d=n(26),p=n(11),f=n(18),b=n(44),j=n.n(b),O=n(138),h=n(140),_=n(141),m=(Object(_.createLogger)({duration:!0,collapsed:!0,colors:{title:function(){return"#139BFE"},prevState:function(){return"#1C5FAF"},action:function(){return"#149945"},nextState:function(){return"#A47104"},error:function(){return"#FF0005"}}}),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,p.d),S=[h.a];var g,v=m(p.a.apply(void 0,S)),x=n(107),E=n(105),N=n(7),T=n.n(N),y=n(13),U=n(30),P=n(3),w=n(9),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return w.a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},L=function(e){return w.a.post("follow/".concat(e)).then((function(e){return e.data}))},A=function(e){return w.a.delete("follow/".concat(e)).then((function(e){return e.data}))};!function(e){e.FOLLOW="SN/USERS/FOLLOW",e.UNFOLLOW="SN/USERS/UNFOLLOW",e.SET_USERS="SN/USERS/SET_USERS",e.SET_CURRENT_PAGE="SN/USERS/SET_CURRENT_PAGE",e.SET_USERS_TOTAL_COUNT="SN/USERS/SET_USERS_TOTAL_COUNT",e.TOGGLE_IS_FETCHING="SN/USERS/TOGGLE_IS_FETCHING",e.TOGGLE_IS_FOLLOWING_PROGRESS="SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS"}(g||(g={}));var R,I={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},k=function(e){return{type:g.FOLLOW,payload:e}},F=function(e){return{type:g.UNFOLLOW,payload:e}},G=function(e){return{type:g.SET_USERS,payload:e}},W=function(e){return{type:g.SET_CURRENT_PAGE,payload:e}},D=function(e){return{type:g.SET_USERS_TOTAL_COUNT,payload:e}},H=function(e){return{type:g.TOGGLE_IS_FETCHING,payload:e}},z=function(e,t){return{type:g.TOGGLE_IS_FOLLOWING_PROGRESS,payload:{isFetching:e,userId:t}}},M=n(38),B=function(){return w.a.get("auth/me").then((function(e){return e.data}))},q=function(e){var t=e.email,n=e.password,r=e.rememberMe,a=void 0!==r&&r,c=e.captcha,o=void 0===c?null:c;return w.a.post("auth/login",{email:t,password:n,rememberMe:a,captcha:o}).then((function(e){return e.data}))},Z=function(){return w.a.delete("auth/login").then((function(e){return e.data}))},J=function(){return w.a.get("security/get-captcha-url").then((function(e){return e.data}))};!function(e){e.SET_AUTH_USER_DATA="SN/AUTH/SET_AUTH_USER_DATA",e.SET_CAPTCHA_URL="SN/AUTH/SET_CAPTCHA_URL"}(R||(R={}));var X,K={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},V=function(e,t,n,r){return{type:R.SET_AUTH_USER_DATA,payload:{id:e,email:t,login:n,isAuth:r}}},Y=function(e){return{type:R.SET_CAPTCHA_URL,payload:{captchaUrl:e}}},Q=function(){return function(){var e=Object(y.a)(T.a.mark((function e(t){var n,r,a,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:(n=e.sent).resultCode===w.b.Success&&(r=n.data,a=r.id,c=r.email,o=r.login,t(V(a,c,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};!function(e){e.INITIALIZED_SUCCESS="SN/APP/INITIALIZED_SUCCESS"}(X||(X={}));var $={initialized:!1},ee=function(){return{type:X.INITIALIZED_SUCCESS}},te={},ne=Object(p.c)({profilePage:E.d,dialogsPage:x.b,sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;return t.type,e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.FOLLOW:return Object(P.a)(Object(P.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload?Object(P.a)(Object(P.a)({},e),{},{followed:!0}):e}))});case g.UNFOLLOW:return Object(P.a)(Object(P.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload?Object(P.a)(Object(P.a)({},e),{},{followed:!1}):e}))});case g.SET_USERS:return Object(P.a)(Object(P.a)({},e),{},{users:t.payload});case g.SET_CURRENT_PAGE:return Object(P.a)(Object(P.a)({},e),{},{currentPage:t.payload});case g.SET_USERS_TOTAL_COUNT:return Object(P.a)(Object(P.a)({},e),{},{totalUsersCount:t.payload});case g.TOGGLE_IS_FETCHING:return Object(P.a)(Object(P.a)({},e),{},{isFetching:t.payload});case g.TOGGLE_IS_FOLLOWING_PROGRESS:return Object(P.a)(Object(P.a)({},e),{},{followingInProgress:t.payload.isFetching?[].concat(Object(U.a)(e.followingInProgress),[t.payload.userId]):e.followingInProgress.filter((function(e){return e!==t.payload.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.SET_AUTH_USER_DATA:case R.SET_CAPTCHA_URL:return Object(P.a)(Object(P.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.INITIALIZED_SUCCESS:return Object(P.a)(Object(P.a)({},e),{},{initialized:!0});default:return e}},form:O.a}),re=Object(p.e)(ne,v);window.store=re;var ae,ce=n(45),oe=n.n(ce),se=n(27),ie=n.n(se),ue=n.p+"static/media/logo.d6c257c2.svg",le=n(0),de=function(e){var t=e.login,n=e.logout,r=e.isAuth;return Object(le.jsx)("header",{className:oe.a.header,children:Object(le.jsxs)("div",{className:oe.a.container,children:[Object(le.jsx)("img",{className:oe.a.logo,src:ue,width:"40",height:"40",alt:"Logo"}),Object(le.jsx)("div",{className:oe.a.loginBlock,children:r?Object(le.jsxs)("div",{children:[Object(le.jsx)("span",{className:oe.a.login,children:t}),Object(le.jsx)("button",{type:"button",className:ie.a.btn,onClick:n,children:"Log out"})]}):Object(le.jsx)(d.b,{className:ie.a.btn,to:"/login",children:"Log in"})})]})})},pe=Object(f.b)((function(e){var t=e.auth;return{login:t.login,isAuth:t.isAuth}}),{logout:function(){return function(){var e=Object(y.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:e.sent.resultCode===w.b.Success&&t(V(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.logout,r=e.isAuth;return Object(le.jsx)(de,{login:t,logout:n,isAuth:r})})),fe=n(104),be=n(46),je=n.n(be),Oe=n(15),he=n(100),_e=n.n(he),me=n(33),Se=n.n(me),ge=function(e){var t=e.pageSize,n=e.totalItemsCount,r=e.currentPage,a=void 0===r?1:r,c=e.changePageHandler,o=e.portionSize,s=void 0===o?10:o,i=Math.ceil(n/t),u=Math.floor((a-1)/s)*s,l=Array(s).fill(null).reduce((function(e,t,n){var r=n+1+u;return r<=i?[].concat(Object(U.a)(e),[r]):e}),[]);return Object(le.jsxs)("div",{className:Se.a.paginator,children:[Object(le.jsx)("button",{type:"button",className:"".concat(Se.a.btn),disabled:1===a,onClick:function(){return c(1)},children:"First"}),Object(le.jsx)("button",{type:"button",className:"".concat(Se.a.btn),disabled:1===a,onClick:function(){return c(a-1)},children:"Previous"}),l.map((function(e){var t=e===a;return Object(le.jsx)("button",{type:"button",className:"".concat(Se.a.btn," ").concat(t&&Se.a.selected),disabled:t,onClick:function(){return c(e)},children:e},e)})),Object(le.jsx)("button",{type:"button",className:"".concat(Se.a.btn),disabled:a===i,onClick:function(){return c(a+1)},children:"Next"}),Object(le.jsx)("button",{type:"button",className:"".concat(Se.a.btn),disabled:a===i,onClick:function(){return c(i)},children:"Last"})]})},ve=n(34),xe=n.n(ve),Ee=n(103),Ne=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unfollow;return Object(le.jsxs)("li",{className:xe.a.item,children:[Object(le.jsxs)("div",{children:[Object(le.jsx)("div",{className:xe.a.avatarWrapper,children:Object(le.jsx)(d.b,{to:"/profile/".concat(t.id),children:Object(le.jsx)("img",{className:xe.a.avatar,src:t.photos.small||Ee.a,width:"50",height:"50",alt:"User avatar"})})}),Object(le.jsx)("div",{children:t.followed?Object(le.jsx)("button",{className:ie.a.btn,type:"button",disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(le.jsx)("button",{className:ie.a.btn,type:"button",disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(le.jsxs)("div",{className:xe.a.info,children:[Object(le.jsxs)("div",{children:[Object(le.jsx)("div",{className:xe.a.name,children:t.name}),Object(le.jsx)("div",{className:xe.a.status,children:t.status||"Status is empty"})]}),Object(le.jsxs)("div",{className:xe.a.location,children:[Object(le.jsx)("div",{children:"user.location.country"}),Object(le.jsx)("div",{children:"user.location.city"})]})]})]})},Te=function(e){var t=e.users,n=e.pageSize,r=e.totalUsersCount,a=e.page,c=e.followingInProgress,o=e.follow,s=e.unfollow,i=e.changePageHandler,u=t.map((function(e){return Object(le.jsx)(Ne,{user:e,followingInProgress:c,follow:o,unfollow:s},e.id)}));return Object(le.jsxs)("div",{className:_e.a.usersBlock,children:[Object(le.jsx)(ge,{pageSize:n,totalItemsCount:r,currentPage:a,changePageHandler:i}),Object(le.jsx)("ul",{className:_e.a.list,children:u}),Object(le.jsx)("button",{className:ie.a.btn,type:"button",onClick:function(){},children:"Show more"})]})},ye=n(50),Ue=n(144),Pe=Object(Ue.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!!e}))})),we=function(e){return e.usersPage.pageSize},Ce=function(e){return e.usersPage.totalUsersCount},Le=function(e){return e.usersPage.currentPage},Ae=function(e){return e.usersPage.isFetching},Re=function(e){return e.usersPage.followingInProgress},Ie=W,ke=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).changePageHandler=function(t){var n=e.props,r=n.pageSize;(0,n.requestUsers)(t,r)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.page,n=e.pageSize;(0,e.requestUsers)(t,n)}},{key:"render",value:function(){var e=this.props,t=e.users,n=e.pageSize,r=e.totalUsersCount,a=e.page,c=e.followingInProgress,o=e.followUser,s=e.unfollowUser,i=e.isFetching;return Object(le.jsx)(le.Fragment,{children:i?Object(le.jsx)(ye.a,{text:"Loading..."}):Object(le.jsx)(Te,{users:t,pageSize:n,totalUsersCount:r,page:a,followingInProgress:c,follow:o,unfollow:s,changePageHandler:this.changePageHandler})})}}]),n}(r.Component),Fe=Object(p.d)(Object(f.b)((function(e){return{users:Pe(e),pageSize:we(e),totalUsersCount:Ce(e),page:Le(e),isFetching:Ae(e),followingInProgress:Re(e)}}),{followUser:function(e){return function(){var t=Object(y.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(z(!0,e)),t.next=3,L(e);case 3:t.sent.resultCode===w.b.Success&&n(k(e)),n(z(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowUser:function(e){return function(){var t=Object(y.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(z(!0,e)),t.next=3,A(e);case 3:t.sent.resultCode===w.b.Success&&n(F(e)),n(z(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:Ie,requestUsers:function(e,t){return function(){var n=Object(y.a)(T.a.mark((function n(r){var a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(H(!0)),r(W(e)),n.next=4,C(e,t);case 4:a=n.sent,r(H(!1)),r(G(a.items)),r(D(a.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(ke),Ge=n(136),We=n(137),De=n(23),He=n.n(De),ze=n(59),Me=n(51),Be=Object(Me.a)(30),qe=Object(We.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return Object(le.jsxs)("form",{className:He.a.form,onSubmit:t,children:[Object(le.jsx)(Ge.a,{component:ze.a,name:"email",placeholder:"Email",validate:[Me.b,Be]}),Object(le.jsx)(Ge.a,{component:ze.a,type:"password",name:"password",placeholder:"Password",validate:[Me.b,Be]}),Object(le.jsxs)("label",{className:"".concat(He.a.checkboxWrapper),children:[Object(le.jsx)(Ge.a,{className:He.a.checkbox,component:"input",type:"checkbox",name:"rememberMe"}),Object(le.jsx)("span",{className:He.a.hint,children:"remember me"})]}),r&&Object(le.jsxs)("div",{className:"".concat(He.a.captchaWrapper),children:[Object(le.jsx)("img",{src:r,alt:"Captcha"}),Object(le.jsx)(Ge.a,{component:ze.a,name:"captcha",placeholder:"Symbols from image",validate:[Me.b]})]}),Object(le.jsx)("div",{className:"".concat(He.a.errorWrapper),children:n&&Object(le.jsx)("span",{className:"".concat(He.a.error),children:n})}),Object(le.jsx)("div",{className:"".concat(He.a.btnWrapper),children:Object(le.jsx)("button",{type:"submit",className:ie.a.btn,children:"Log in"})})]})})),Ze=Object(f.b)((function(e){var t=e.auth;return{isAuth:t.isAuth,captchaUrl:t.captchaUrl}}),{login:function(e){return function(){var t=Object(y.a)(T.a.mark((function t(n){var r,a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:if((r=t.sent).resultCode!==w.b.Success){t.next=8;break}return t.next=6,n(Q());case 6:t.next=13;break;case 8:if(r.resultCode!==w.c.Required){t.next=11;break}return t.next=11,n(function(){var e=Object(y.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:if(!(n=e.sent).url){e.next=6;break}return e.next=6,t(Y(n.url));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:a=r.messages.length?r.messages[0]:"Some error",n(Object(M.a)("login",{_error:a}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuth,r=e.captchaUrl;return n?Object(le.jsx)(l.a,{to:"/profile"}):Object(le.jsxs)("div",{children:[Object(le.jsx)("h1",{className:He.a.title,children:"LOGIN"}),Object(le.jsx)("div",{className:He.a.loginFormWrapper,children:Object(le.jsx)(qe,{onSubmit:function(e){t(Object(P.a)({},e))},captchaUrl:r})})]})})),Je=n(58),Xe=n.n(Je),Ke=function(){return Object(le.jsx)("div",{className:Xe.a.page,children:Object(le.jsxs)("div",{className:Xe.a.main,children:[Object(le.jsx)("h1",{className:Xe.a.title,children:"404 - Not\xa0found"}),Object(le.jsxs)("p",{className:Xe.a.text,children:["\u2014",Object(le.jsx)("span",{children:"Uh oh."})," ",Object(le.jsx)("span",{children:"\xaf\\_(\u30c4)_/\xaf"}),"\u2014"]})]})})},Ve={PROFILE:"/profile",DIALOGS:"/dialogs",USERS:"/users",LOGIN:"/login",ERROR_404:"/404"},Ye=Object(r.lazy)(Object(y.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4).then(n.bind(null,312));case 2:return t=e.sent,e.abrupt("return",{default:t.DialogsContainer});case 4:case"end":return e.stop()}}),e)})))),Qe=Object(r.lazy)(Object(y.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(3).then(n.bind(null,311));case 2:return t=e.sent,e.abrupt("return",{default:t.ProfileContainer});case 4:case"end":return e.stop()}}),e)})))),$e=function(){return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(l.d,{children:[Object(le.jsx)(l.b,{path:"/",exact:!0,render:function(){return Object(le.jsx)(l.a,{to:Ve.PROFILE})}}),Object(le.jsx)(l.b,{path:"".concat(Ve.PROFILE,"/:userId?"),render:function(){return Object(le.jsx)(Qe,{})}}),Object(le.jsx)(l.b,{path:Ve.DIALOGS,render:function(){return Object(le.jsx)(Ye,{})}}),Object(le.jsx)(l.b,{path:Ve.USERS,render:function(){return Object(le.jsx)(Fe,{})}}),Object(le.jsx)(l.b,{path:Ve.LOGIN,render:function(){return Object(le.jsx)(Ze,{})}}),Object(le.jsx)(l.b,{path:Ve.ERROR_404,render:function(){return Object(le.jsx)(Ke,{})}}),Object(le.jsx)(l.a,{from:"*",to:Ve.ERROR_404})]})})},et=function(){return Object(le.jsx)("nav",{className:je.a.nav,children:Object(le.jsx)("ul",{className:je.a.list,children:Object.entries(Ve).slice(0,3).map((function(e){var t=Object(fe.a)(e,2),n=t[0],r=t[1];return Object(le.jsx)("li",{className:je.a.item,children:Object(le.jsx)(d.c,{className:je.a.link,to:r,activeClassName:je.a.active,replace:!0,children:n.toLowerCase()})},Object(Oe.a)())}))})})},tt=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(e){alert("Some error occurred")},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(le.jsxs)("div",{className:j.a.appWrapper,children:[Object(le.jsx)(pe,{}),Object(le.jsxs)("div",{className:j.a.container,children:[Object(le.jsx)(et,{}),Object(le.jsx)("main",{className:j.a.appContent,children:Object(le.jsx)(r.Suspense,{fallback:Object(le.jsx)("div",{className:j.a.preloaderPageWrapper,children:Object(le.jsx)(ye.a,{text:"Loading..."})}),children:Object(le.jsx)($e,{})})})]})]}):Object(le.jsx)("div",{className:j.a.preloaderAppWrapper,children:Object(le.jsx)(ye.a,{text:"Loading SamuraiJSApp"})})}}]),n}(r.Component),nt=Object(p.d)(Object(f.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(y.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Q());case 2:n=e.sent,Promise.all([n]).then((function(){t(ee())}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),l.g)(tt),rt=function(){return Object(le.jsx)(f.a,{store:re,children:Object(le.jsx)(d.a,{children:Object(le.jsx)(nt,{})})})};c.a.render(Object(le.jsx)(rt,{}),document.getElementById("root")),ae&&ae instanceof Function&&n.e(5).then(n.bind(null,310)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,a=e.getLCP,c=e.getTTFB;t(ae),n(ae),r(ae),a(ae),c(ae)}))},33:function(e,t,n){e.exports={btn:"Paginator_btn__C1fmc",selected:"Paginator_selected__2cTTO"}},34:function(e,t,n){e.exports={item:"User_item__2PdYA",avatarWrapper:"User_avatarWrapper__abUew",avatar:"User_avatar__27DBJ",info:"User_info__2Xv8f",location:"User_location__2fcbB"}},44:function(e,t,n){e.exports={appWrapper:"App_appWrapper__ZMEuH",container:"App_container__7_OSo container_container__1yKAy",appContent:"App_appContent__3kXFC",preloaderAppWrapper:"App_preloaderAppWrapper__37ovM",preloaderPageWrapper:"App_preloaderPageWrapper__3acpy"}},45:function(e,t,n){e.exports={header:"Header_header__1VCKf",container:"Header_container__1VC87 container_container__1yKAy",logo:"Header_logo__3_SJs",login:"Header_login__3V3Qa"}},46:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",list:"Navbar_list__2GzPV",link:"Navbar_link__TNvz9",active:"Navbar_active__3mbhk"}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(1);var r=n(77),a=n.n(r),c=n(0),o=function(e){var t=e.text;return Object(c.jsxs)("div",{className:a.a.preloader,children:[Object(c.jsx)("div",{className:a.a.loaderCircle}),Object(c.jsx)("div",{className:a.a.loaderBottom,children:t})]})}},51:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e?void 0:"Field is required"},a=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}},58:function(e,t,n){e.exports={page:"Error404_page__OgCEo",title:"Error404_title__AzCYh",text:"Error404_text__2CMhG"}},59:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(3),a=n(96),c=(n(1),n(78)),o=n.n(c),s=n(0),i=function(e){var t=e.meta,n=t.touched,r=t.error,a=e.children,c=e.className,i=void 0===c?"":c,u=n&&r,l="".concat(o.a.formControl," ").concat(i," ").concat(u&&o.a.formControlError);return Object(s.jsxs)("div",{className:l,children:[u&&Object(s.jsx)("span",{className:"".concat(o.a.error),children:r}),a]})},u=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return Object(s.jsx)(i,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},l=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return Object(s.jsx)(i,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},t),n))}))}},77:function(e,t,n){e.exports={preloader:"Preloader_preloader__2dvkO",loaderCircle:"Preloader_loaderCircle__2WGY1",load:"Preloader_load__3tO9j",loaderBottom:"Preloader_loaderBottom__3u2bT",pulse:"Preloader_pulse__2uAlH"}},78:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue",formControlError:"FormsControls_formControlError__MEb4f"}},9:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var r,a,c=n(142),o=n.n(c);!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.Required=10]="Required"}(a||(a={}));var s=o.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"f0c49284-b587-4373-8b56-ded694176fd7"}})}},[[297,1,2]]]);
//# sourceMappingURL=main.b1c91fee.chunk.js.map